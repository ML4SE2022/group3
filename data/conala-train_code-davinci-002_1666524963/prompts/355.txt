How to perform double sort inside an array?