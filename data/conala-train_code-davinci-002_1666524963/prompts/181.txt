String encoding and decoding from possibly latin1 and utf8